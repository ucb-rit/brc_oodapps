# Batch Connect app configuration file
#
# @note Used to define the submitted cluster, title, description, and
#   hard-coded/user-defined attributes that make up this Batch Connect app.
---

cluster: "brc"

form:
  - job_name
  - slurm_partition
  - bc_account
  - qos_name
  - num_nodes
  - num_cores
  - gres_value
  - bc_num_hours
  - user_email

attributes:

  bc_num_hours:
    label: "Wall Clock Time"
    help: "How many hours do you want to run this Jupyter Server for ?"
    value: 1

  job_name:
    label: "Name of the job"
    value: "OOD_batch"

  slurm_partition:
    widget: "select"
    label: "SLURM Partition"
    help: "Choose the name of the SLURM Partition in which you want to launch this Jupyter Server"
    options:
      - [ "savio", "savio" ]
      - [ "savio2", "savio2" ]
      - [ "savio2_htc", "savio2_htc" ]
      - [ "savio2_gpu", "savio2_gpu" ]
      - [ "savio2_1080ti", "savio2_1080ti" ]
      - [ "savio2_knl", "savio2_knl" ]
      - [ "savio3", "savio3" ]
      - [ "savio3_gpu", "savio3_gpu" ]
      - [ "vector", "vector" ]
    required: true

  bc_account:
    label: "SLURM Project/Account Name"

  qos_name:
    label: "SLURM QoS Name"
    help: "Most users can leave it black for default assignment, Savio Condo users want to specify their condo QoS name"
    #value: "savio_normal"

  num_nodes:
    label: "Number of Nodes"
    help: "Please specify the number of nodes you want for this Jupyter Server"
    value: 1

  num_cores:
    label: "Number of CPU cores per Node"
    help: "Please specify the number of CPU cores you want per node for this Jupyter Server"
    value: 1

  gres_value:
    label: "Number and type of GPUs"
    help: "You choose to run in a partition with GPUs. Please specify the GRES value i.e the number and type of GPUs you want for this Jupyter Server"

  user_email:
    label: "Email address (optional)"
    help: "Enter your email address if you would like to receive an email when the session starts. Leave blank for no email."
